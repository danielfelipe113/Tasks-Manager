<navbar></navbar>
<header></header>
<div class="settingsContainer" layout-margin flex>
    <md-tabs md-dynamic-height md-border-bottom md-center-tabs>

      <md-tab label="Identificación">   
        <form class="signUpForm formMargin" name="signUpForm" ng-submit="vm.saveUser(signUpForm)" layout="column" layout-align="center center" novalidate flex style="margin: 1.5em 0.5em;">

        <md-input-container class="width-60">
          <label>Nombres</label>
          <input type="text" name="firstName" ng-model="vm.user.firstName" required/>
          <div ng-messages="signUpForm.firstName.$error">
            <div ng-message="required">
              Escribe tus nombres
            </div>
          </div>
        </md-input-container>
        
        <md-input-container class="width-60">
          <label>Apellidos</label>
          <input type="text" name="lastName" ng-model="vm.user.lastName" required/>
          <div ng-messages="signUpForm.lastName.$error">
            <div ng-message="required">
              Escribe tus nombres
            </div>
          </div>
        </md-input-container>

        <md-input-container class="width-60">
          <label>Correo electrónico</label>
          <input type="email" name="email" ng-model="vm.user.email" required mongoose-error/>
          <div ng-messages="signUpForm.email.$error">
            <div ng-message="required">
              Escribe tu correo electrónico
            </div>
            <div ng-message="mongooseError">
              {{vm.errors.email}}
            </div>
            <!--<p ng-show="signUpForm.email.$error.mongoose">
                {{ vm.errors.email }}
              </p>-->
          </div>
        </md-input-container>

      

        <div layout="row" layout-align="center center">
          <md-button class="md-raised md-primary" type="submit">
            Guardar
          </md-button>
          
        </div>
      </form>
      </md-tab>
      
      <md-tab label="Cambiar contraseña">   
        <form class="changePasswordForm" name="changePasswordForm" ng-submit="vm.changePassword(changePasswordForm)" layout="column" layout-align="center center" novalidate style="margin: 1.5em 0.5em;">
          <md-input-container class="width-60">
            <label>Contraseña actual</label>

            <input type="password" name="password" class="form-control" ng-model="vm.user.oldPassword" mongoose-error/>
            <p ng-show="form.password.$error.mongoose">
              {{ vm.errors.other }}
            </p>
          </md-input-container>

          <md-input-container class="width-60">
            <label>Nueva contraseña</label>
            <input type="password" name="newPassword" class="form-control" ng-model="vm.user.newPassword" ng-minlength="3" required/>
            <div ng-messages="changePasswordForm.newPassword.$error">
              <div ng-message="required">
                Escribe tu nueva contraseña
              </div>
            </div>
            <p ng-show="(form.newPassword.$error.minlength || form.newPassword.$error.required) && (form.newPassword.$dirty || vm.submitted)">
              Password must be at least 3 characters.
            </p>
          </md-input-container>

          <md-input-container class="width-60">
            <label>Confirmar nueva contraseña</label>

            <input type="password" name="confirmPassword" class="form-control" ng-model="vm.user.confirmPassword" match="vm.user.newPassword"
              ng-minlength="3" required="" />
            <p ng-show="form.confirmPassword.$error.match && vm.submitted">
              Las contraseñas deben coincidir
            </p>
          </md-input-container>

          <p> {{ vm.message }} </p>

          <md-button class="md-raised md-primary" type="submit">Guardar cambios</md-button>
        </form>
      </md-tab>
      
    </md-tabs>
</div>